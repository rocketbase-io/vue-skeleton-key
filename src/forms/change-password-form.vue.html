<skeleton-form
  :busy="busy"
  v-model="value"
  :required="['currentPassword', 'newPassword', 'newPassword2']"
  :messages="messages"
  :errors="errors"
  @submit="onSubmit"
>
  <template #header>
    <h3 v-if="!hideTitle">{{tt("skeleton-key.change-password.title", "Change Password")}}</h3>
    <slot name="header" />
  </template>
  <template #default="{ value, errors }">
    <skeleton-input type="password" :messages="errors.currentPassword" :label="tt('skeleton-key.change-password.currentPassword', 'Current Password')" v-model="value.currentPassword" />
    <skeleton-input type="password" :messages="errors.newPassword" :label="tt('skeleton-key.change-password.newPassword', 'New Password')" v-model="value.newPassword" />
    <skeleton-input type="password" :messages="errors.newPassword2" :label="tt('skeleton-key.change-password.newPassword2', ' Repeat Password')" v-model="value.newPassword2" />
    <slot />
  </template>
  <template #footer="{ invalid }">
    <slot name="footer" />
    <skeleton-button :text="tt('skeleton-key.change-password.submit', 'Change')" primary submit :disabled="invalid" />
  </template>
</skeleton-form>
